<article class="m-2 rounded-2" style="border: 2px solid black;">
    <h4 class="m-2">내 이웃의 글</h4>
    <hr class="mt-1">
    <div>
    {% if user.is_authenticated %}
        {% if request.user.followings.all|length == 0 %}
            이웃을 추가해주세요!
        {% else %}
        <div class="m-2 rounded-2 d-flex" style="flex-direction: column;">
            {% for post in posts %}
                {% if post.user in request.user.followings.all %}
                    <div class="d-flex align-items-center" style="width: 100%;">
                        <div class="m-1" style="width: 30px; height: 30px; border-radius: 70%; overflow: hidden;">
                            <img src="{{ post.user.profile_image.url }}" alt="" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div>
                            <p style="font-size: 0.75rem;">{{ post.user }}</p>
                        </div>
                        <a href="{% url 'accounts:follows' username=post.user %}" class="btn btn-secondary ms-auto" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;">이웃해제</a>
                    </div>

                    <a href="{% url 'main:detail' username=post.user.username number=post.id %}" class="link-dark link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
                    <h5 class="fw-bold mt-1">{{ post.title }}</h5> 
                    <p style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">
                        {{ post.content}} 
                    </p>
                    </a>
                    <hr class="mt-0">
                {% endif %}
            {% endfor %}
        </div>
        {% endif %}
    {% else %}
        로그인이 필요합니다.
    {% endif %}
    </div>

    <!-- 페이지네이션 -->
    {% include './_pagination.html' %}
</article>